jasypt:
  encryptor:
    algorithm: PBEWITHSHA1ANDDESEDE
    stringOutputType: hexadecimal
    bean: encryptorBean
    providerName: SunJCE
    password: ${JASYPT_PASSWORD}


server:
  port: 9099
  servlet:
    contextPath: /payment-engine-batch/api/v1

spring:
  datasource:
    url: ENC(9D24CBF9AF44B80D0258CCB21AB99E587411A143D757E7E73E7DAF8F400CB30BBBD196C7255D29A4D6121B241CD6E6711EB1CA0C7004C14EEB5C7CBDDD64323D1D7DCB148F67E8994D3EE9EBA4201E7C)
    username: ENC(4DAB468CFAF6B64E56AB48E029D65C35)
    password: ENC(8B7EEE42ABF06C3EDDB30BCA02510689)
    driverClassName: oracle.jdbc.OracleDriver

  jpa:
    database-platform: org.hibernate.dialect.Oracle10gDialect
    hibernate.ddl-auto: update
    show-sql: false
    generate-ddl: true


  properties:
    hibernate.format_sql: true
    hibernate.enable_lazy_load_no_trans: true
    org.hibernate.envers.audit_table_suffix: _activity
  h2:
    console:
      settings:
        web-allow-others: true
      enabled: true
      path: /h2
  batch:
    job:
      enabled: false
    chunk:
      size: 51
    adonp:
      chunk:
        size: 1
    event-status:
      not-to-query: SUCCESS,INVALID
    s2s-event-status:
      not-to-query: SUCCESS,INVALID
      record-consider-in-minute: 5
    transaction-status:
      query: PENDING, ABORTED

logging:
  config: classpath:logback-spring.xml
  levels:
    org.springframework: INFO
    com.ril.service.batch: INFO
    org.hibernate.SQL: INFO
  appenders:
    name: rollingfile
    rollingfile:
      directory: /opt/pe-batch/logs
      prefix: pe-batch

expiring:
  alert:
    adonp:
      cycle: 1440
    payment-transaction:
      cycle: 30
    event-handler:
      cycle: 30
    s2s-event-handler:
      cycle: 10

activation:
  cycle: 2
expired:
  cycle: 2
recently:
  updated:
    cycle: 20
promo:
  active:
    cycle: 2
  expire:
    cycle: 2

process-burn:
  cycle: 5

maxAttempts: 3
backOffDelay: 20

template:
  sms:
    expiring: expiringSms
    expired: expiredSms
    activate: activatedSms
  email:
    expiring: expiringMail
    expired: expiredMail
    activate: activatedMail
batch:
  initialize-schema: never
  initializer:
    enabled: false

rest:
  event:
    url: https://payment.services.ajio.com/payment-engine/api/v1/event/process
  processTransaction:
    url: https://payment.services.ajio.com/payment-engine/api/v1/transaction/pending/process


mail:
  smtp:
    server: 10.129.79.250
    starttls:
      enable: true
    connection-timeout: 5000
    timeout: 5000
    write-timeout: 5000
  transport:
    protocol: smtp

report:
  adonp:
    error-not-in-query: ABORTED,PAYMENT_GATEWAY_EXCEPTION,NA
  file:
    location: /opt/pe-batch/
    name: reporting.xls
    adonp-report-name: ADONP_REPORT
    purchase-transaction-report-name: PURCHASE_TRANSACTION_REPORT
    zip:
      location: /opt/pe-batch/
      name: reporting.zip

  input-date-string: 04-08-2019


#==============================================================
  # Do not modify these details otherwise quartz will hv problem
  #to read these data
  #Configure Main Scheduler Properties
#==============================================================
org.quartz.scheduler.instanceName : PaymentEngineScheduler
org.quartz.scheduler.instanceId : AUTO

#==============================================================
#Configure ThreadPool
#==============================================================
org.quartz.threadPool.class : org.quartz.simpl.SimpleThreadPool
org.quartz.threadPool.makeThreadsDaemons : true
org.quartz.threadPool.threadCount: 11

#==============================================================
#Configure JobStore
#==============================================================
org.quartz.jobStore.misfireThreshold : 60000
org.quartz.jobStore.class : org.quartz.impl.jdbcjobstore.JobStoreTX
org.quartz.jobStore.driverDelegateClass : org.quartz.impl.jdbcjobstore.oracle.OracleDelegate
org.quartz.jobStore.tablePrefix : QRTZ_
org.quartz.jobStore.dataSource : myDS
org.quartz.jobStore.isClustered : true
org.quartz.jobStore.clusterCheckinInterval : 20000

#==============================================================
#Non-Managed Configure Datasource
#==============================================================
org.quartz.dataSource.myDS.driver : oracle.jdbc.OracleDriver
org.quartz.dataSource.myDS.URL : jdbc:oracle:thin:@//SIDCECOMPAYDBpd.in.ril.com:1521/PEPRODDB_taf
org.quartz.dataSource.myDS.user : PE_PROD
org.quartz.dataSource.myDS.password : PE_PROD
org.quartz.dataSource.myDS.maxConnections : 11
org.quartz.dataSource.myDS.validationQuery : select 0 from dual
org.quartz.plugin.shutdownHook.class: org.quartz.plugins.management.ShutdownHookPlugin
org.quartz.plugin.shutdownHook.cleanShutdown: true